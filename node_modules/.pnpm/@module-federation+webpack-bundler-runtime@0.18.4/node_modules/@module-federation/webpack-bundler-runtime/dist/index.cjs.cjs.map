{"version":3,"file":"index.cjs.cjs","sources":["../../src/attachShareScopeMap.ts","../../src/remotes.ts","../../src/consumes.ts","../../src/initializeSharing.ts","../../src/installInitialConsumes.ts","../../src/initContainerEntry.ts","../../src/index.ts"],"sourcesContent":[null,null,null,null,null,null,null],"names":["attachShareScopeMap","webpackRequire","S","federation","hasAttachShareScopeMap","instance","shareScopeMap","remotes","options","chunkId","promises","chunkMapping","idToExternalAndNameMapping","idToRemoteMap","o","forEach","id","getScope","R","data","remoteInfos","indexOf","push","p","onError","error","Error","message","m","handleFunction","fn","arg1","arg2","d","next","first","promise","then","result","onExternal","external","_","I","onInitialized","get","onFactory","factory","module","exports","onRemoteLoaded","remoteName","decodeName","name","ENCODE_NAME_PREFIX","remoteModuleName","slice","loadRemote","loadFactory","from","shareStrategy","Promise","all","sharedHandler","initializeSharing","useRuntimeLoad","length","FEDERATION_SUPPORTED_TYPES","includes","externalType","consumes","installedModules","moduleToHandlerMapping","shareInfo","c","shareConfig","layer","hasOwnProperty","undefined","e","federationInstance","shareKey","getter","loadShare","customShareInfo","catch","shareScopeName","initPromises","initTokens","initScope","shareScopeKeys","Array","isArray","initializeSharingPromises","_initializeSharing","shareScopeKey","mfInstance","initToken","warn","msg","console","initExternal","handleError","err","initFn","init","initResult","strategy","bundlerRuntimeRemotesOptions","bundlerRuntimeOptions","Object","keys","moduleId","info","externalModuleId","remoteInfo","key","handleInitialConsumes","loadShareSync","installInitialConsumes","initialConsumes","initContainerEntry","shareScope","remoteEntryInitOptions","initOptions","hostShareScopeKeys","hostShareScopeMap","hostKey","sc","initShareScopeMap","prefetch","proxyInitializeSharing","Boolean","shared","map","runtime","bundlerRuntime"],"mappings":"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"}